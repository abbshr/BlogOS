<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <title>BlogOS by abbshr</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>BlogOS</h1>
        <h2>一个基于express的Node.js社交应用</h2>

        <section id="downloads">
          <a href="https://github.com/abbshr/BlogOS/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/abbshr/BlogOS/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/abbshr/BlogOS" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h4>
<a name="%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA" class="anchor" href="#%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA"><span class="octicon octicon-link"></span></a>这是一个</h4>

<p>使用Node.js平台 + 
JavaScript编写 + 
MongoDb数据库的多人博客系统/社交网络</p>

<hr><h4>
<a name="%E7%9B%AE%E5%89%8D%E9%A1%B9%E7%9B%AE%E7%9A%84demo%E5%B7%B2%E5%9C%A8appfog%E4%BA%91%E6%9C%8D%E5%8A%A1%E4%B8%8A%E6%89%98%E7%AE%A1%E5%9C%B0%E5%9D%80httpblogosap01awsafcm" class="anchor" href="#%E7%9B%AE%E5%89%8D%E9%A1%B9%E7%9B%AE%E7%9A%84demo%E5%B7%B2%E5%9C%A8appfog%E4%BA%91%E6%9C%8D%E5%8A%A1%E4%B8%8A%E6%89%98%E7%AE%A1%E5%9C%B0%E5%9D%80httpblogosap01awsafcm"><span class="octicon octicon-link"></span></a>目前项目的Demo已在appfog云服务上托管，地址：<a href="http://blogos.ap01.aws.af.cm/">http://blogos.ap01.aws.af.cm/</a>
</h4>

<p>提交bugs到邮箱： <a href="mailto:abbshrsoufii@gmail.com">abbshrsoufii@gmail.com</a><br>
或者Issues:    <a href="https://github.com/abbshr/BlogOS/issues/new">https://github.com/abbshr/BlogOS/issues/new</a></p>

<hr><h4>
<a name="bugs-fixed--update" class="anchor" href="#bugs-fixed--update"><span class="octicon octicon-link"></span></a>bugs fixed &amp;&amp; update</h4>

<p>2013.6.14 修正了标签显示不正确问题</p>

<p>2013.6.16 修正了头像显示失败问题</p>

<p>2013.6.19 修正了标签未过滤、标题未过滤、注册信息未过滤问题</p>

<p>2013.6.23 重写路由routes模块，方便以后管理；添加删除文章功能</p>

<p>2013.6.24 在appfog托管成功~</p>

<p>2013.6.25 添加管理员后台（Root）功能，重写User和Post模型，新增Admin模型；修正搜索功能：根据关键词搜索与指定用户、标签、标题相关的文章</p>

<p>2013.6.26 创建前端JavaScript脚本，用来初始化应用（当前包含放缩图片至标准、内容预览）和获取后期应用对象，#注：该文件当前并未引入应用，原因是未作优化与debug</p>

<p>2013.6.27 添加文章修改功能；修正文章发布空标题出错问题</p>

<p>2013.6.30 修正数据库连接信息问题：“Please ensure that you set the default write concern for the database by setting =
= one of the options =”</p>

<p>2013.7.4 修正文章修改时原始标题和标签内容溢出容器</p>

<p>2013.7.25 修正Root功能中的一些错误、添加监控、新增应用体的数据模型AppInfo、修正数据库复数链接导致应用暂停问题、应用数据库初始化、文章检索特殊符号正则过滤不严格问题、控制分页的回调函数逻辑错误问题</p>

<p>2013.7.26 添加个人信息浏览及设置功能，修正User模型中一个查询数据库的错误用法find</p>

<p>2013.7.27 重新设计单篇po的链接构成，防止再次出现非法字符</p>

<p>2013.7.29 全面检查，修正一些隐蔽的错误以及添加非法URL过滤，完成后台功能与后台Bugs修复，对大部分页面的session检测逻辑进行修改</p>

<h4>
<a name="bugshistory" class="anchor" href="#bugshistory"><span class="octicon octicon-link"></span></a>bugs（history）</h4>

<p>2013.7.29 部分非法URL未经过滤，会导致应用崩溃。已解决。</p>

<p>2013.7.27 每篇post的标题中如果包含？，由于链接包含标题，因此会出现？这将导致req.params无法正确辨识链接中的title从而查询出错。方案：对post的链接构成进行重新整合，避免出现非法字符。 ……已解决。</p>

<p>2013.7.26 User模型中的查询语法使用出错，导致用户/管理员页面获取查询信息为undefined。 已解决</p>

<p>2013.7.25 Root进行网站流量监控、数据监控时发生应用崩溃，appinfo数据模型无法正常工作，Router中部分路由函数逻辑出错，post数据模型中的几个函数由于未考虑扩展而导致出错，正则表达式检索文章是过滤不严出错，分页出错。已解决</p>

<p>2013.7.24 数据库链接被多次开启导致应用暂停。已解决，方案：将主应用中的检测数据库部分删除。</p>

<p>2013.6.27 文章标题为空时未作处理。已解决。</p>

<p>2013.6.25 关键词搜素不完整。已解决，方案：在Post模型中修改patterns</p>

<p>2013.6.15 搜索关键词未过滤会导致应用错误崩溃。已解决，方案：在路由中添加过滤再传递给search</p>

<p>2013.6.14 单篇文章路径与指定用户的指定标签路径冲突，默认会调用前一项handle而忽略后面的handle，从而导致页面访问错误。 暂时解决方案：取消用户指定标签功能。</p>

<p>2013.6.14 发布文章时，标题和标签的末尾出现空格会导致单篇文章页面访问出错。 已解决，方案： 在路由中对传输的数据做预处理保证满足规格（自动将末尾的空格去掉）</p>

<hr><h4>
<a name="%E5%85%B3%E4%BA%8Eui%E4%BC%98%E5%8C%96" class="anchor" href="#%E5%85%B3%E4%BA%8Eui%E4%BC%98%E5%8C%96"><span class="octicon octicon-link"></span></a>关于UI优化</h4>

<p>未来会使用前端框架Bootstrap重构页面。由于该项目当前仅仅是个例子，所以并没有对UI做任何修饰。</p>

<hr><h4>
<a name="%E6%9C%80%E7%BB%88%E5%8A%9F%E8%83%BD%E6%8F%8F%E8%BF%B0" class="anchor" href="#%E6%9C%80%E7%BB%88%E5%8A%9F%E8%83%BD%E6%8F%8F%E8%BF%B0"><span class="octicon octicon-link"></span></a>最终功能描述：</h4>

<ul>
<li>多用户</li>
<li>实时（RealTime） $</li>
<li>个人控制

<ul>
<li>编辑个人信息 </li>
<li>添加头像:头像引自gravatar，可到gravatar上选定头像然后将邮箱填写正确 </li>
<li>pv统计</li>
<li>管理自己发布的文章（搜索、删除、修改）</li>
<li>接收系统/用户消息 $</li>
</ul>
</li>
<li>标签</li>
<li>分页</li>
<li>markdown发布文章</li>
<li>归档</li>
<li>markdown留言</li>
<li>markdown评论</li>
<li>可视化文本编辑器 $</li>
<li>文章检索</li>
<li>注册：在注册时最好填写关联gravatar的邮箱以确保头像的正确引用！</li>
<li>系统管理员（数据库可视化操作 + 网站监控）
<hr>
</li>
</ul><h4>
<a name="%E5%BD%93%E5%89%8D%E5%AE%9E%E7%8E%B0" class="anchor" href="#%E5%BD%93%E5%89%8D%E5%AE%9E%E7%8E%B0"><span class="octicon octicon-link"></span></a>当前实现：</h4>

<ul>
<li>多用户</li>
<li>标签</li>
<li>分页</li>
<li>markdown</li>
<li>归档</li>
<li>发布文章</li>
<li>留言（评论）</li>
<li>个人控制</li>
<li>pv统计</li>
<li>文章搜索</li>
<li>用户头像</li>
<li>文章删除</li>
<li>文章修改</li>
<li>系统管理员后台（Root）
<hr>
</li>
</ul><h4>
<a name="%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F" class="anchor" href="#%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F"><span class="octicon octicon-link"></span></a>更新日期：</h4>

<ul>
<li>2013.6.09</li>
<li>2013.6.14</li>
<li>2013.6.15</li>
<li>2013.6.16</li>
<li>2013.6.19</li>
<li>2013.6.23</li>
<li>2013.6.25</li>
<li>2013.6.26</li>
<li>2013.6.27</li>
<li>2013.6.30</li>
<li>2013.7.04</li>
<li>2013.7.25</li>
<li>2013.7.26</li>
<li>2013.7.27</li>
<li>2013.7.29
<hr>
</li>
</ul><h4>
<a name="%E4%BD%A0%E5%8F%AF%E4%BB%A5%E9%80%89%E6%8B%A9quick-start%E5%8F%82%E7%85%A7%E4%BE%8B%E5%AD%90%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BAblogos" class="anchor" href="#%E4%BD%A0%E5%8F%AF%E4%BB%A5%E9%80%89%E6%8B%A9quick-start%E5%8F%82%E7%85%A7%E4%BE%8B%E5%AD%90%E8%87%AA%E5%B7%B1%E5%88%9B%E5%BB%BAblogos"><span class="octicon octicon-link"></span></a>你可以选择Quick Start参照例子自己创建blogos：</h4>

<ul>
<li>生成一个目录
<pre>
mkdir myblog 
</pre>
</li>
<li>安装express模块（在此之前你需要安装Node.js）
<pre>
npm install -g express
</pre>
</li>
<li>建立express应用框架
<pre>
express -e ejs blogos
</pre>
</li>
<li>更新依赖模块
<pre>
cd blog&amp;&amp;npm install
</pre>
</li>
</ul><h4>
<a name="%E6%88%96%E8%80%85%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%E6%88%91%E5%B7%B2%E7%B6%93%E5%81%9A%E5%A5%BD%E7%9A%84%E8%BF%99%E4%B8%AA%E4%BE%8B%E5%AD%90" class="anchor" href="#%E6%88%96%E8%80%85%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%E6%88%91%E5%B7%B2%E7%B6%93%E5%81%9A%E5%A5%BD%E7%9A%84%E8%BF%99%E4%B8%AA%E4%BE%8B%E5%AD%90"><span class="octicon octicon-link"></span></a>或者直接使用我已經做好的这个例子</h4>

<ul>
<li>进入mongodb/bin，开启mongoDb数据库
<pre>
cd mongodb/bin
mongod --dbpath "/home/username/myblog/datebase" 
</pre>
</li>
<li>启动应用
<pre>
cd blogos
sudo node app.js
</pre>
</li>
</ul>
      </section>
    </div>

    
  </body>
</html>